<Page
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:bilibili2"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:WrapPanel="using:AppArrange.WrapPanel"
    xmlns:Controls="using:bilibili2.Controls"
    x:Class="bilibili2.MainPage"
    mc:Ignorable="d"
    xmlns:pr="using:PullToRefresh.UWP"
    SizeChanged="Page_SizeChanged"

    >
    <Page.Resources>
        <Style x:Key="AutoSuggestBoxStyle1" TargetType="AutoSuggestBox">
            <Setter Property="VerticalAlignment" Value="Top"/>
            <Setter Property="IsTabStop" Value="False"/>
            <Setter Property="TextBoxStyle" Value="{StaticResource AutoSuggestBoxTextBoxStyle}"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="AutoSuggestBox">
                        <Grid>
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="Orientation">
                                    <VisualState x:Name="Landscape"/>
                                    <VisualState x:Name="Portrait"/>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                            <TextBox x:Name="TextBox"  ScrollViewer.BringIntoViewOnFocusChange="False" DesiredCandidateWindowAlignment="BottomEdge" Header="{TemplateBinding Header}" Margin="0" PlaceholderText="{TemplateBinding PlaceholderText}" Style="{TemplateBinding TextBoxStyle}" Width="{TemplateBinding Width}" Canvas.ZIndex="0" BorderBrush="{x:Null}"/>
                            <Popup x:Name="SuggestionsPopup">
                                <Border x:Name="SuggestionsContainer">
                                    <Border.RenderTransform>
                                        <TranslateTransform x:Name="UpwardTransform"/>
                                    </Border.RenderTransform>
                                    <ListView x:Name="SuggestionsList" BorderBrush="{ThemeResource SystemControlForegroundBaseMediumLowBrush}" BorderThickness="{ThemeResource AutoSuggestListBorderThemeThickness}" Background="{ThemeResource SystemControlBackgroundChromeMediumLowBrush}" DisplayMemberPath="{TemplateBinding DisplayMemberPath}" IsItemClickEnabled="True" ItemTemplate="{TemplateBinding ItemTemplate}" ItemContainerStyle="{TemplateBinding ItemContainerStyle}" ItemTemplateSelector="{TemplateBinding ItemTemplateSelector}" MaxHeight="{ThemeResource AutoSuggestListMaxHeight}" Margin="{ThemeResource AutoSuggestListMargin}">
                                        <ListView.ItemContainerTransitions>
                                            <TransitionCollection/>
                                        </ListView.ItemContainerTransitions>
                                    </ListView>
                                </Border>
                            </Popup>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="FlipViewStyle1" TargetType="FlipView">
            <Setter Property="Background" Value="{ThemeResource SystemControlPageBackgroundListLowBrush}"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="TabNavigation" Value="Once"/>
            <Setter Property="IsTabStop" Value="False"/>
            <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Hidden"/>
            <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Hidden"/>
            <Setter Property="ScrollViewer.IsHorizontalRailEnabled" Value="False"/>
            <Setter Property="ScrollViewer.IsVerticalRailEnabled" Value="False"/>
            <Setter Property="ScrollViewer.IsHorizontalScrollChainingEnabled" Value="True"/>
            <Setter Property="ScrollViewer.IsVerticalScrollChainingEnabled" Value="True"/>
            <Setter Property="ScrollViewer.IsDeferredScrollingEnabled" Value="False"/>
            <Setter Property="ScrollViewer.BringIntoViewOnFocusChange" Value="True"/>
            <Setter Property="UseSystemFocusVisuals" Value="True"/>
            <Setter Property="ItemsPanel">
                <Setter.Value>
                    <ItemsPanelTemplate>
                        <VirtualizingStackPanel AreScrollSnapPointsRegular="True" Orientation="Horizontal"/>
                    </ItemsPanelTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="FlipView">
                        <Grid BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}">
                            <Grid.Resources>
                                <ControlTemplate x:Key="HorizontalNextTemplate" TargetType="Button">
                                    <Border x:Name="Root" BorderBrush="{ThemeResource SystemControlForegroundTransparentBrush}" BorderThickness="{ThemeResource FlipViewButtonBorderThemeThickness}" Background="{ThemeResource SystemControlBackgroundBaseMediumLowBrush}">
                                        <VisualStateManager.VisualStateGroups>
                                            <VisualStateGroup x:Name="CommonStates">
                                                <VisualState x:Name="Normal"/>
                                                <VisualState x:Name="PointerOver">
                                                    <Storyboard>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="Root">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SystemControlHighlightBaseMediumBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="Arrow">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SystemControlHighlightAltAltMediumHighBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualState>
                                                <VisualState x:Name="Pressed">
                                                    <Storyboard>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="Root">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SystemControlHighlightBaseMediumHighBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="Arrow">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SystemControlHighlightAltAltMediumHighBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualState>
                                            </VisualStateGroup>
                                        </VisualStateManager.VisualStateGroups>
                                        <FontIcon x:Name="Arrow" Foreground="{ThemeResource SystemControlForegroundAltMediumHighBrush}" FontSize="12" FontFamily="{ThemeResource SymbolThemeFontFamily}" Glyph="&#xE0E3;" HorizontalAlignment="Center" MirroredWhenRightToLeft="True" UseLayoutRounding="False" VerticalAlignment="Center"/>
                                    </Border>
                                </ControlTemplate>
                                <ControlTemplate x:Key="HorizontalPreviousTemplate" TargetType="Button">
                                    <Border x:Name="Root" BorderBrush="{ThemeResource SystemControlForegroundTransparentBrush}" BorderThickness="{ThemeResource FlipViewButtonBorderThemeThickness}" Background="{ThemeResource SystemControlBackgroundBaseMediumLowBrush}">
                                        <VisualStateManager.VisualStateGroups>
                                            <VisualStateGroup x:Name="CommonStates">
                                                <VisualState x:Name="Normal"/>
                                                <VisualState x:Name="PointerOver">
                                                    <Storyboard>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="Root">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SystemControlHighlightBaseMediumBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="Arrow">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SystemControlHighlightAltAltMediumHighBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualState>
                                                <VisualState x:Name="Pressed">
                                                    <Storyboard>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="Root">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SystemControlHighlightBaseMediumHighBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="Arrow">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SystemControlHighlightAltAltMediumHighBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualState>
                                            </VisualStateGroup>
                                        </VisualStateManager.VisualStateGroups>
                                        <FontIcon x:Name="Arrow" Foreground="{ThemeResource SystemControlForegroundAltMediumHighBrush}" FontSize="12" FontFamily="{ThemeResource SymbolThemeFontFamily}" Glyph="&#xE0E2;" HorizontalAlignment="Center" MirroredWhenRightToLeft="True" UseLayoutRounding="False" VerticalAlignment="Center"/>
                                    </Border>
                                </ControlTemplate>
                                <ControlTemplate x:Key="VerticalNextTemplate" TargetType="Button">
                                    <Border x:Name="Root" BorderBrush="{ThemeResource SystemControlForegroundTransparentBrush}" BorderThickness="{ThemeResource FlipViewButtonBorderThemeThickness}" Background="{ThemeResource SystemControlBackgroundBaseMediumLowBrush}">
                                        <VisualStateManager.VisualStateGroups>
                                            <VisualStateGroup x:Name="CommonStates">
                                                <VisualState x:Name="Normal"/>
                                                <VisualState x:Name="PointerOver">
                                                    <Storyboard>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="Root">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SystemControlHighlightBaseMediumBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="Arrow">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SystemControlHighlightAltAltMediumHighBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualState>
                                                <VisualState x:Name="Pressed">
                                                    <Storyboard>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="Root">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SystemControlHighlightBaseMediumHighBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="Arrow">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SystemControlHighlightAltAltMediumHighBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualState>
                                            </VisualStateGroup>
                                        </VisualStateManager.VisualStateGroups>
                                        <FontIcon x:Name="Arrow" Foreground="{ThemeResource SystemControlForegroundAltMediumHighBrush}" FontSize="12" FontFamily="{ThemeResource SymbolThemeFontFamily}" Glyph="&#xE0E5;" HorizontalAlignment="Center" UseLayoutRounding="False" VerticalAlignment="Center"/>
                                    </Border>
                                </ControlTemplate>
                                <ControlTemplate x:Key="VerticalPreviousTemplate" TargetType="Button">
                                    <Border x:Name="Root" BorderBrush="{ThemeResource SystemControlForegroundTransparentBrush}" BorderThickness="{ThemeResource FlipViewButtonBorderThemeThickness}" Background="{ThemeResource SystemControlBackgroundBaseMediumLowBrush}">
                                        <VisualStateManager.VisualStateGroups>
                                            <VisualStateGroup x:Name="CommonStates">
                                                <VisualState x:Name="Normal"/>
                                                <VisualState x:Name="PointerOver">
                                                    <Storyboard>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="Root">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SystemControlHighlightBaseMediumBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="Arrow">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SystemControlHighlightAltAltMediumHighBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualState>
                                                <VisualState x:Name="Pressed">
                                                    <Storyboard>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="Root">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SystemControlHighlightBaseMediumHighBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="Arrow">
                                                            <DiscreteObjectKeyFrame KeyTime="0" Value="{ThemeResource SystemControlHighlightAltAltMediumHighBrush}"/>
                                                        </ObjectAnimationUsingKeyFrames>
                                                    </Storyboard>
                                                </VisualState>
                                            </VisualStateGroup>
                                        </VisualStateManager.VisualStateGroups>
                                        <FontIcon x:Name="Arrow" Foreground="{ThemeResource SystemControlForegroundAltMediumHighBrush}" FontSize="12" FontFamily="{ThemeResource SymbolThemeFontFamily}" Glyph="&#xE0E4;" HorizontalAlignment="Center" UseLayoutRounding="False" VerticalAlignment="Center"/>
                                    </Border>
                                </ControlTemplate>
                            </Grid.Resources>
                            <ScrollViewer x:Name="ScrollingHost" AutomationProperties.AccessibilityView="Raw" BringIntoViewOnFocusChange="{TemplateBinding ScrollViewer.BringIntoViewOnFocusChange}" HorizontalScrollMode="{TemplateBinding ScrollViewer.HorizontalScrollMode}" HorizontalSnapPointsType="MandatorySingle" HorizontalScrollBarVisibility="{TemplateBinding ScrollViewer.HorizontalScrollBarVisibility}" IsTabStop="False" IsHorizontalRailEnabled="{TemplateBinding ScrollViewer.IsHorizontalRailEnabled}" IsHorizontalScrollChainingEnabled="{TemplateBinding ScrollViewer.IsHorizontalScrollChainingEnabled}" IsVerticalScrollChainingEnabled="{TemplateBinding ScrollViewer.IsVerticalScrollChainingEnabled}" IsVerticalRailEnabled="{TemplateBinding ScrollViewer.IsVerticalRailEnabled}" IsDeferredScrollingEnabled="{TemplateBinding ScrollViewer.IsDeferredScrollingEnabled}" Padding="{TemplateBinding Padding}" TabNavigation="{TemplateBinding TabNavigation}" VerticalSnapPointsType="MandatorySingle" VerticalScrollBarVisibility="{TemplateBinding ScrollViewer.VerticalScrollBarVisibility}" VerticalScrollMode="{TemplateBinding ScrollViewer.VerticalScrollMode}" ZoomMode="Disabled">
                                <ItemsPresenter />
                            </ScrollViewer>
                            <Button x:Name="PreviousButtonHorizontal"  HorizontalAlignment="Left" Height="220" IsTabStop="False" Template="{StaticResource HorizontalPreviousTemplate}" UseSystemFocusVisuals="False" VerticalAlignment="Center" Width="1"/>
                            <Button x:Name="NextButtonHorizontal"  HorizontalAlignment="Right" Height="220" IsTabStop="False" Template="{StaticResource HorizontalNextTemplate}" UseSystemFocusVisuals="False" VerticalAlignment="Center" Width="1"/>
                            <Button x:Name="PreviousButtonVertical"  HorizontalAlignment="Center" Height="20" IsTabStop="False" Template="{StaticResource VerticalPreviousTemplate}" UseSystemFocusVisuals="False" VerticalAlignment="Top" Width="1"/>
                            <Button x:Name="NextButtonVertical"  HorizontalAlignment="Center" Height="20" IsTabStop="False" Template="{StaticResource VerticalNextTemplate}" UseSystemFocusVisuals="False" VerticalAlignment="Bottom" Width="1"/>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Name="GridViewItemStyle" TargetType="GridViewItem">
            <Setter Property="BorderBrush" Value="#33000000"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="VerticalAlignment" Value="Top"/>
            <Setter Property="Background" Value="{ThemeResource Bili-List-Background}"/>
        </Style>
        <Style x:Key="grid_TJ" TargetType="GridViewItem">
            <Setter Property="Background" Value="{ThemeResource Bili-List-Background}"/>
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="BorderBrush" Value="#7F808080"/>
            <Setter Property="VerticalContentAlignment" Value="Stretch"/>
            <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="MaxWidth" Value="640"/>
        </Style>
    </Page.Resources>
    <Grid  Background="{ThemeResource Bili-Background}">
        <Grid.RowDefinitions>
            <RowDefinition Height="auto"/>
            <RowDefinition/>
        </Grid.RowDefinitions>
        <VisualStateManager.VisualStateGroups>
            <VisualStateGroup x:Name="big">
                <VisualState x:Name="wide1000">
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="1001"/>
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                        <Setter Target="sp_View.DisplayMode" Value="Inline"/>
                        <Setter Target="sp_View.IsPaneOpen" Value="true"/>
                        <Setter Target="top_txt_Header.Margin" Value="5 0"/>
                        <Setter Target="btn_OpenMenu.Visibility" Value="Collapsed"/>
                        <Setter Target="top_User.Margin" Value="5 0"/>
                        <Setter Target="btn_GoFind.Visibility" Value="Collapsed"/>
                        <Setter Target="top_txt_find.Visibility" Value="Visible"/>
                    </VisualState.Setters>
                </VisualState>
                <VisualState x:Name="narrow">
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="0"/>
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                        <Setter Target="sp_View.DisplayMode" Value="Overlay"/>
                        <Setter Target="sp_View.IsPaneOpen" Value="False"/>
                        <Setter Target="top_txt_Header.Margin" Value="48 0"/>
                        <Setter Target="btn_OpenMenu.Visibility" Value="Visible"/>
                        <Setter Target="top_User.Margin" Value="5 32 5 0"/>
                        <Setter Target="btn_GoFind.Visibility" Value="Visible"/>
                        <Setter Target="top_txt_find.Visibility" Value="Collapsed"/>
                    </VisualState.Setters>
                </VisualState>
            </VisualStateGroup>
        </VisualStateManager.VisualStateGroups>
        <SplitView x:Name="sp_View" Grid.Row="1" OpenPaneLength="200"   PaneBackground="{ThemeResource Bili-MenuBack}"  DisplayMode="Overlay">
            <SplitView.Pane>
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="120"/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <Grid x:Name="menu_DarkBack" Background="{ThemeResource Bili-ForeColor-Dark}" >
                        <StackPanel Orientation="Horizontal" Visibility="Collapsed" VerticalAlignment="Top" HorizontalAlignment="Right" Grid.ColumnSpan="2">
                            <AppBarButton Height="48" Width="48"  Foreground="White">
                                <AppBarButton.Icon>
                                    <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE706;" />
                                </AppBarButton.Icon>
                            </AppBarButton>
                        </StackPanel>
                        <HyperlinkButton x:Name="btn_UserInfo" Click="btn_UserInfo_Click">
                            <Grid x:Name="top_User" Margin="5 32 5 0" VerticalAlignment="Center">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="auto"/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <Ellipse Width="52" Height="52" Grid.Column="0" Margin="5 0"  VerticalAlignment="Center">
                                    <Ellipse.Fill>
                                        <ImageBrush x:Name="img_user" Stretch="Fill" ImageSource="Assets/other/NoAvatar.png"/>
                                    </Ellipse.Fill>
                                </Ellipse>
                                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                    <TextBlock x:Name="txt_UserName" Foreground="White" FontSize="18">
										<Run Text="请登录"/>
                                    </TextBlock>
                                    <TextBlock x:Name="txt_Sign"   Visibility="Collapsed" TextWrapping="Wrap" TextTrimming="CharacterEllipsis" MaxLines="1" Foreground="White" FontSize="14">
										<Run Text="个人签名"/>
                                    </TextBlock>
                                </StackPanel>
                            </Grid>
                        </HyperlinkButton>

                    </Grid>
                    <ListView x:Name="list_Menu" Grid.Row="1" SelectionMode="None" IsItemClickEnabled="True" ItemClick="list_Menu_ItemClick" >
                        <ListViewItem Background="#33555555" >
                            <StackPanel Orientation="Horizontal">
                                <SymbolIcon Symbol="Home" Width="26" Height="26" Foreground="Gray"/>
                                <TextBlock Text="首页" VerticalAlignment="Center" Margin="20,0" Foreground="Gray" />
                            </StackPanel>
                        </ListViewItem>
                        <ListViewItem >
                            <StackPanel Orientation="Horizontal" Tag="Favbox">
                                <SymbolIcon Symbol="OutlineStar" Width="26" Height="26" Foreground="Gray"/>
                                <TextBlock Text="我的收藏" VerticalAlignment="Center" Margin="20,0" Foreground="Gray" />
                            </StackPanel>
                        </ListViewItem>
                        <ListViewItem >
                            <StackPanel Orientation="Horizontal" Tag="History">
                                <SymbolIcon Symbol="Clock" Width="26" Height="26" Foreground="Gray"/>
                                <TextBlock Text="历史记录" VerticalAlignment="Center" Margin="20,0" Foreground="Gray" />
                            </StackPanel>
                        </ListViewItem>
                        <ListViewItem >
                            <StackPanel Orientation="Horizontal" Tag="Message">
                                <SymbolIcon Symbol="Mail" Width="26" Height="26" Foreground="Gray"/>
                                <TextBlock Text="我的消息" VerticalAlignment="Center" Margin="20,0,0,0" Foreground="Gray" />
                                <Ellipse x:Name="bor_HasMessage" Visibility="Collapsed" Fill="Red" Width="5" Height="5" VerticalAlignment="Top" Margin="3 8"/>
                            </StackPanel>
                        </ListViewItem>
                        <ListViewItem >
                            <StackPanel Orientation="Horizontal" Tag="Download">
                                <SymbolIcon Symbol="Download" Width="26" Height="26" Foreground="Gray"/>
                                <TextBlock Text="离线管理" VerticalAlignment="Center" Margin="20,0" Foreground="Gray" />
                            </StackPanel>
                        </ListViewItem>
                        <ListViewItem >
                            <StackPanel Orientation="Horizontal" Tag="M_Drak_Light">
                                <FontIcon x:Name="font_D_L" FontFamily="Segoe MDL2 Assets" Glyph="&#xE708;" Foreground="Gray" Width="26"/>
                                <TextBlock x:Name="txt_D_L" Text="夜间模式" VerticalAlignment="Center" Margin="20,0" Foreground="Gray" />
                            </StackPanel>
                        </ListViewItem>
                        <ListViewItem>
                            <StackPanel Orientation="Horizontal" Tag="Setting">
                                <SymbolIcon Symbol="Setting" Width="26" Height="26" Foreground="Gray"/>
                                <TextBlock Text="应用设置" VerticalAlignment="Center" Margin="20,0" Foreground="Gray" />
                            </StackPanel>
                        </ListViewItem>
                        <ListViewItem>
                            <StackPanel Orientation="Horizontal" Tag="Feedback">
                                <SymbolIcon Symbol="Mail" Width="26" Height="26" Foreground="Gray"/>
                                <TextBlock Text="问题反馈" VerticalAlignment="Center" Margin="20,0,0,0" Foreground="Gray" />
                                <Ellipse x:Name="bor_HasFeedback" Visibility="Collapsed" Fill="Red" Width="5" Height="5" VerticalAlignment="Top" Margin="3 8"/>
                            </StackPanel>
                        </ListViewItem>
                    </ListView>
                </Grid>
            </SplitView.Pane>
            <Grid >
                <Grid.RowDefinitions>
                    <RowDefinition Height="auto"/>
                    <RowDefinition Height="36"/>
                    <RowDefinition/>
                </Grid.RowDefinitions>
                <Grid  Background="{ThemeResource Bili-ForeColor}" Grid.Row="0" Height="48" x:Name="top_grid">
                    <TextBlock Text="首页" FontSize="16" x:Name="top_txt_Header" Grid.Column="1" VerticalAlignment="Center" HorizontalAlignment="Left" Foreground="White" />
                    <StackPanel Orientation="Horizontal" Grid.ColumnSpan="2" HorizontalAlignment="Right" >
                        <AppBarButton x:Name="btn_GoFind" Icon="Find" Width="48" Height="48" Foreground="White" Click="btn_GoFind_Click"/>
                        <AutoSuggestBox x:Name="top_txt_find"   PlaceholderText="输入关键字或AV号" Visibility="Collapsed" Height="32"  Width="180" QueryIcon="Find" Grid.Column="2" VerticalAlignment="Center" VerticalContentAlignment="Center" HorizontalAlignment="Right" Margin="5,0"  Style="{StaticResource AutoSuggestBoxStyle1}"  TextChanged="top_txt_find_TextChanged" QuerySubmitted="top_txt_find_QuerySubmitted" SuggestionChosen="top_txt_find_SuggestionChosen"/>
                        <AppBarButton Icon="Download" Visibility="Collapsed" Width="48" Height="48" Foreground="White"></AppBarButton>
                    </StackPanel>
                  
                </Grid>

                <Grid Background="{ThemeResource Bili-ForeColor}" Grid.Row="1">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <Button x:Name="btn_Live"  HorizontalAlignment="Stretch" VerticalAlignment="Stretch"  Background="#00000000"  FontSize="16" Foreground="#B2FFFFFF" Tag="0" Click="Button_Click" Content="直播"/>
                    <Button  x:Name="btn_Bangumi"  Grid.Column="1" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"  Background="#00000000"  FontSize="16" Foreground="#B2FFFFFF" Tag="1" Click="Button_Click" Content="番剧"/>
                    <Button x:Name="btn_Home"  Grid.Column="2" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"  Background="#00000000"  FontSize="16" Foreground="#B2FFFFFF"  Tag="2" Click="Button_Click" Content="推荐"/>
                    <Button x:Name="btn_Part"  Grid.Column="3" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"  Background="#00000000"  FontSize="16"  Foreground="#B2FFFFFF" Tag="3" Click="Button_Click" Content="分区"/>
                    <Button x:Name="btn_Update" Grid.Column="4" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"  Background="#00000000"  FontSize="16" Foreground="#B2FFFFFF" Tag="4" Click="Button_Click" Content="关注"/>
                    <Button x:Name="btn_Find"  Grid.Column="5" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"  Background="#00000000"  FontSize="16" Foreground="#B2FFFFFF" Tag="5" Click="Button_Click" Content="发现"/>
                </Grid>


                <Pivot x:Name="pivot_Home" Grid.Row="2"  SelectionChanged="pivot_Home_SelectionChanged">
                    <PivotItem Margin="0">
                        <pr:PullToRefreshBox x:Name="pr_Live" RefreshInvoked="pr_Live_RefreshInvoked">
                            <ScrollViewer VerticalScrollBarVisibility="Auto">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto"/>
                                        <RowDefinition Height="auto"/>
                                        <RowDefinition/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition/>
                                        <ColumnDefinition/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <Grid Grid.ColumnSpan="3">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition x:Name="grid_c_left_Live" Width="*"/>
                                            <ColumnDefinition x:Name="grid_c_center_Live" Width="auto" />
                                            <ColumnDefinition x:Name="grid_c_right_Live" Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <Grid  Grid.Column="0" MaxHeight="200">
                                            <Grid.Background>
                                                <LinearGradientBrush StartPoint="0,0.5" EndPoint="1,0.5">
                                                    <LinearGradientBrush.GradientStops>
                                                        <GradientStopCollection>
                                                            <GradientStop Offset="1" Color="Black"/>
                                                            <GradientStop Offset="0.101" Color="Gray"/>
                                                        </GradientStopCollection>
                                                    </LinearGradientBrush.GradientStops>
                                                </LinearGradientBrush>
                                            </Grid.Background>
                                            <FlipView x:Name="fvLeft_Live" Opacity="0.5" IsEnabled="False">
                                                <FlipView.ItemTemplate>
                                                    <DataTemplate>
                                                        <Image Source="{Binding Img}" Height="200" Width="640"/>
                                                    </DataTemplate>
                                                </FlipView.ItemTemplate>
                                            </FlipView>
                                        </Grid>
                                        <Viewbox MaxWidth="640"  Grid.Column="1">
                                            <FlipView  x:Name="home_flipView_Live"  Height="200" Width="640" Grid.Column="1"   SelectionChanged="home_flipView_Live_SelectionChanged"   Style="{StaticResource FlipViewStyle1}" VerticalAlignment="Top" >
                                                <FlipView.ItemTemplate>
                                                    <DataTemplate>
                                                        <Grid>
                                                            <Image Source="{Binding Img}"  Height="200"/>
                                                            <HyperlinkButton x:Name="btn_Banner_Live" Click="btn_Banner_Live_Click">
                                                                <Grid Width="640" Height="200" >
                                                                    <TextBlock/>
                                                                </Grid>
                                                            </HyperlinkButton>
                                                        </Grid>
                                                    </DataTemplate>
                                                </FlipView.ItemTemplate>
                                            </FlipView>
                                        </Viewbox>
                                        <Grid Grid.Column="2" MaxHeight="200" >
                                            <Grid.Background>
                                                <LinearGradientBrush StartPoint="0,0.5" EndPoint="1,0.5">
                                                    <LinearGradientBrush.GradientStops>
                                                        <GradientStopCollection>
                                                            <GradientStop Offset="0.101" Color="Black"/>
                                                            <GradientStop Offset="1" Color="Gray"/>
                                                        </GradientStopCollection>
                                                    </LinearGradientBrush.GradientStops>
                                                </LinearGradientBrush>
                                            </Grid.Background>
                                            <FlipView x:Name="fvRight_Live" Opacity="0.3" IsEnabled="False">
                                                <FlipView.ItemTemplate>
                                                    <DataTemplate>
                                                        <Image Source="{Binding Img}" Height="200" Width="640"/>
                                                    </DataTemplate>
                                                </FlipView.ItemTemplate>
                                            </FlipView>
                                        </Grid>
                                    </Grid>
                                    <Button x:Name="btn_live_Atton" Grid.Row="1" Grid.Column="0" HorizontalAlignment="Stretch" Margin="5" Background="{ThemeResource Bili-ForeColor}" Foreground="White" Content="关注主播"/>
                                    <Button x:Name="btn_Live_Search" Grid.Row="1" Grid.Column="1" HorizontalAlignment="Stretch" Margin="5" Background="{ThemeResource Bili-ForeColor}" Foreground="White" Content="搜索直播" Click="btn_Live_Search_Click"/>
                                    <Button x:Name="btn_live_All"  Grid.Row="1" Grid.Column="2" HorizontalAlignment="Stretch" Margin="5" Background="{ThemeResource Bili-ForeColor}" Foreground="White" Content="全部直播" Click="btn_live_All_Click"/>
                                    <Controls:MyLiveControl x:Name="liveinfo" Grid.Row="2" Grid.ColumnSpan="3"/>
                                </Grid>
                            </ScrollViewer>
                        </pr:PullToRefreshBox>
                    </PivotItem>
                    <PivotItem Margin="0" >
                        <pr:PullToRefreshBox x:Name="pr_Bangumi" RefreshInvoked="pr_Bangumi_RefreshInvoked">
                            <ScrollViewer x:Name="sc_Ban" VerticalScrollBarVisibility="Auto" ViewChanged="sc_Ban_ViewChanged">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto"/>
                                        <RowDefinition Height="auto"/>
                                        <RowDefinition/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition/>
                                        <ColumnDefinition/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <Grid Grid.ColumnSpan="3">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition x:Name="grid_c_left_Ban" Width="*"/>
                                            <ColumnDefinition x:Name="grid_c_center_Ban" Width="auto" />
                                            <ColumnDefinition x:Name="grid_c_right_Ban" Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <Grid  Grid.Column="0" MaxHeight="200">
                                            <Grid.Background>
                                                <LinearGradientBrush StartPoint="0,0.5" EndPoint="1,0.5">
                                                    <LinearGradientBrush.GradientStops>
                                                        <GradientStopCollection>
                                                            <GradientStop Offset="1" Color="Black"/>
                                                            <GradientStop Offset="0.101" Color="Gray"/>
                                                        </GradientStopCollection>
                                                    </LinearGradientBrush.GradientStops>
                                                </LinearGradientBrush>
                                            </Grid.Background>
                                            <FlipView x:Name="fvLeft_Ban" Opacity="0.5" IsEnabled="False">
                                                <FlipView.ItemTemplate>
                                                    <DataTemplate>
                                                        <Image Source="{Binding img}" Height="200" Width="640"/>
                                                    </DataTemplate>
                                                </FlipView.ItemTemplate>
                                            </FlipView>
                                        </Grid>
                                        <Viewbox MaxWidth="640"  Grid.Column="1">
                                            <FlipView  x:Name="home_flipView_Ban"  Height="200" Width="640" Grid.Column="1"   SelectionChanged="home_flipView_SelectionChanged_1"   Style="{StaticResource FlipViewStyle1}" VerticalAlignment="Top" >
                                                <FlipView.ItemTemplate>
                                                    <DataTemplate>
                                                        <Grid>
                                                            <Image Source="{Binding img}"  Height="200"/>
                                                            <HyperlinkButton x:Name="btn_Banner_Ban" Click="btn_Banner_Ban_Click">
                                                                <Grid Width="640" Height="200" >
                                                                    <TextBlock/>
                                                                </Grid>
                                                            </HyperlinkButton>
                                                        </Grid>
                                                    </DataTemplate>
                                                </FlipView.ItemTemplate>
                                            </FlipView>
                                        </Viewbox>
                                        <Grid Grid.Column="2" MaxHeight="200" >
                                            <Grid.Background>
                                                <LinearGradientBrush StartPoint="0,0.5" EndPoint="1,0.5">
                                                    <LinearGradientBrush.GradientStops>
                                                        <GradientStopCollection>
                                                            <GradientStop Offset="0.101" Color="Black"/>
                                                            <GradientStop Offset="1" Color="Gray"/>
                                                        </GradientStopCollection>
                                                    </LinearGradientBrush.GradientStops>
                                                </LinearGradientBrush>
                                            </Grid.Background>
                                            <FlipView x:Name="fvRight_Ban" Opacity="0.3" IsEnabled="False">
                                                <FlipView.ItemTemplate>
                                                    <DataTemplate>
                                                        <Image Source="{Binding img}" Height="200" Width="640"/>
                                                    </DataTemplate>
                                                </FlipView.ItemTemplate>
                                            </FlipView>
                                        </Grid>
                                    </Grid>
                                    <Button x:Name="Ban_btn_MyBan" Grid.Row="1" Grid.Column="0" HorizontalAlignment="Stretch" Margin="5" Background="{ThemeResource Bili-ForeColor}" Foreground="White" Content="我的追番" Click="Ban_btn_MyBan_Click"/>
                                    <Button x:Name="Ban_btn_Tag" Grid.Row="1" Grid.Column="1" HorizontalAlignment="Stretch" Margin="5" Background="{ThemeResource Bili-ForeColor}" Foreground="White" Content="番剧索引" Click="Ban_btn_Tag_Click"/>
                                    <Button x:Name="Ban_btn_Timeline" Grid.Row="1" Grid.Column="2" HorizontalAlignment="Stretch" Margin="5" Background="{ThemeResource Bili-ForeColor}" Foreground="White" Content="放送时间表" Click="Ban_btn_Timeline_Click"/>
                                    <StackPanel Grid.Row="2" Grid.ColumnSpan="3">
                                        <HyperlinkButton   Foreground="{ThemeResource Bili-FontColor}" >
                                            <StackPanel Orientation="Horizontal">
                                                <Border Background="{ThemeResource Bili-ForeColor}" Width="10"  Height="24"  Margin="5,0"/>
                                                <TextBlock Text="最近更新" FontSize="16" VerticalAlignment="Center" />
                                            </StackPanel>
                                        </HyperlinkButton>
                                        <ScrollViewer VerticalScrollMode="Disabled" VerticalScrollBarVisibility="Disabled" HorizontalScrollMode="Enabled" HorizontalScrollBarVisibility="Hidden">
                                            <GridView x:Name="GridView_Bangumi_NewUpdate"  HorizontalAlignment="Center" ItemContainerStyle="{StaticResource GridViewItemStyle}" ScrollViewer.VerticalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollMode="Disabled" SelectionMode="None"  IsItemClickEnabled="True"   ItemClick="GridView_Bangumi_NewUpdate_ItemClick">
                                                <GridView.ItemTemplate>
                                                    <DataTemplate>
                                                        <StackPanel >
                                                            <Grid>
                                                                <Image Source="{Binding cover}" Width="150" />
                                                                <Border VerticalAlignment="Bottom" HorizontalAlignment="Right" Background="#7F000000" Margin="5" CornerRadius="5">
                                                                    <StackPanel Orientation="Horizontal" Margin="5,0">
                                                                        <TextBlock Foreground="White" FontSize="12" Text="{Binding watchingCount}"/>
                                                                        <TextBlock Foreground="White" FontSize="12" >
																			<Run Text="人在看"/>
                                                                        </TextBlock>
                                                                    </StackPanel>
                                                                </Border>
                                                            </Grid>
                                                            <Grid MaxWidth="150" Margin="5">
                                                                <Grid.RowDefinitions>
                                                                    <RowDefinition Height="32"/>
                                                                    <RowDefinition/>
                                                                </Grid.RowDefinitions>
                                                                <TextBlock Text="{Binding title}"  FontSize="12" TextAlignment="Center" VerticalAlignment="Center"  HorizontalAlignment="Left" TextWrapping="Wrap" />
                                                                <StackPanel Orientation="Horizontal" Grid.Row="1">
                                                                    <TextBlock Text="更新至第" FontSize="12" Foreground="#FF0078D7" />
                                                                    <TextBlock Text="{Binding newest_ep_index}" FontSize="12" Foreground="#FF0078D7" />
                                                                    <TextBlock Text="话" FontSize="12" Foreground="#FF0078D7" />
                                                                </StackPanel>
                                                            </Grid>
                                                        </StackPanel>
                                                    </DataTemplate>
                                                </GridView.ItemTemplate>
                                            </GridView>
                                        </ScrollViewer>
                                        <HyperlinkButton  Foreground="{ThemeResource Bili-FontColor}" >
                                            <StackPanel Orientation="Horizontal">
                                                <Border Background="{ThemeResource Bili-ForeColor}" Width="10"  Height="24"  Margin="5,0"/>
                                                <TextBlock Text="番剧推荐" FontSize="16" VerticalAlignment="Center" />
                                            </StackPanel>
                                        </HyperlinkButton>
                                        <Border x:Name="test" Width="auto" Margin="5 0" Height="1"  Background="#0001FFFF" VerticalAlignment="Top"/>
                                        <GridView x:Name="list_Ban_TJ" HorizontalAlignment="Center"  ScrollViewer.VerticalScrollMode="Disabled" ScrollViewer.VerticalScrollBarVisibility="Disabled" ItemContainerStyle="{StaticResource grid_TJ}" SelectionMode="None" IsItemClickEnabled="True" ItemClick="list_Ban_TJ_ItemClick">
                                            <GridView.ItemTemplate>
                                                <DataTemplate>
                                                    <Grid Width="{Binding Width, ElementName=test}">
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition />
                                                            <RowDefinition Height="30"/>
                                                            <RowDefinition Height="48"/>
                                                        </Grid.RowDefinitions>
                                                        <Image  Source="{Binding cover}" />
                                                        <TextBlock Grid.Row="1" FontSize="16"  Margin="5 0" Text="{Binding title}" VerticalAlignment="Center"/>
                                                        <TextBlock Grid.Row="2" Foreground="Gray" Margin="5 0" VerticalAlignment="Center" TextWrapping="Wrap" MaxLines="2" TextTrimming="CharacterEllipsis" Text="{Binding desc}"/>
                                                    </Grid>
                                                </DataTemplate>
                                            </GridView.ItemTemplate>
                                        </GridView>
                                        <TextBlock x:Name="Ban_TJ_more" Foreground="Gray" HorizontalAlignment="Center">
											<Run Text="加载更多"/>
                                        </TextBlock>
                                    </StackPanel>
                                </Grid>
                            </ScrollViewer>
                        </pr:PullToRefreshBox>
                    </PivotItem>
                    <PivotItem Margin="0">
                        <pr:PullToRefreshBox x:Name="pr_Home" RefreshInvoked="pr_Home_RefreshInvoked">
                            <ScrollViewer  VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
                                <StackPanel >
                                    <Grid >
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition x:Name="grid_c_left" Width="*"/>
                                            <ColumnDefinition x:Name="grid_c_center" Width="auto" />
                                            <ColumnDefinition x:Name="grid_c_right" Width="*"/>
                                        </Grid.ColumnDefinitions>
                                        <Grid  Grid.Column="0" MaxHeight="200">
                                            <Grid.Background>
                                                <LinearGradientBrush StartPoint="0,0.5" EndPoint="1,0.5">
                                                    <LinearGradientBrush.GradientStops>
                                                        <GradientStopCollection>
                                                            <GradientStop Offset="1" Color="Black"/>
                                                            <GradientStop Offset="0.101" Color="Gray"/>
                                                        </GradientStopCollection>
                                                    </LinearGradientBrush.GradientStops>
                                                </LinearGradientBrush>
                                            </Grid.Background>
                                            <FlipView x:Name="fvLeft" Opacity="0.5" IsEnabled="False">
                                                <FlipView.ItemTemplate>
                                                    <DataTemplate>
                                                        <Image Source="{Binding Image}" Height="200" Width="640"/>
                                                    </DataTemplate>
                                                </FlipView.ItemTemplate>
                                            </FlipView>
                                        </Grid>
                                        <Viewbox MaxWidth="640"  Grid.Column="1">
                                            <FlipView  x:Name="home_flipView"  Height="200" Width="640" Grid.Column="1"   SelectionChanged="home_flipView_SelectionChanged"   Style="{StaticResource FlipViewStyle1}" VerticalAlignment="Top" >
                                                <FlipView.ItemTemplate>
                                                    <DataTemplate>
                                                        <Grid>
                                                            <Image Source="{Binding Image}"  Height="200"/>
                                                            <HyperlinkButton Click="HyperlinkButton_Click_1">
                                                                <Grid Width="640" Height="200" >
                                                                    <TextBlock/>
                                                                </Grid>
                                                            </HyperlinkButton>
                                                        </Grid>
                                                    </DataTemplate>
                                                </FlipView.ItemTemplate>
                                            </FlipView>
                                        </Viewbox>
                                        <Grid Grid.Column="2" MaxHeight="200" >
                                            <Grid.Background>
                                                <LinearGradientBrush StartPoint="0,0.5" EndPoint="1,0.5">
                                                    <LinearGradientBrush.GradientStops>
                                                        <GradientStopCollection>
                                                            <GradientStop Offset="0.101" Color="Black"/>
                                                            <GradientStop Offset="1" Color="Gray"/>
                                                        </GradientStopCollection>
                                                    </LinearGradientBrush.GradientStops>
                                                </LinearGradientBrush>
                                            </Grid.Background>
                                            <FlipView x:Name="fvRight" Opacity="0.3" IsEnabled="False">
                                                <FlipView.ItemTemplate>
                                                    <DataTemplate>
                                                        <Image Source="{Binding Image}" Height="200" Width="640"/>
                                                    </DataTemplate>
                                                </FlipView.ItemTemplate>
                                            </FlipView>
                                        </Grid>
                                    </Grid>
                                    <local:MyControl x:Name="home_Items"/>
                                </StackPanel>
                            </ScrollViewer>
                        </pr:PullToRefreshBox>
                    </PivotItem>
                    <PivotItem Margin="0">
                        <Controls:RegionPageFragment/>
                    </PivotItem>
                    <PivotItem Margin="0" >
                        <pr:PullToRefreshBox x:Name="pr_Atton" RefreshInvoked="pr_Atton_RefreshInvoked">
                            <ScrollViewer x:Name="sc" VerticalScrollBarVisibility="Auto" ViewChanged="sc_ViewChanged">
                                <Grid>
                                    <StackPanel x:Name="DT_Info" Visibility="Visible">
                                        <Grid>
                                            <HyperlinkButton Margin="10 5 10 0" HorizontalContentAlignment="Stretch" HorizontalAlignment="Stretch" Foreground="{ThemeResource Bili-FontColor}" Click="Ban_btn_MyBan_Click">
                                                <StackPanel Orientation="Horizontal">
                                                    <Image Source="Assets/PartIcon/BFJ.png" Width="24" Height="24" Margin="0 0 5 0"/>
                                                    <TextBlock Text="追番" VerticalAlignment="Center" FontSize="16"/>
                                                </StackPanel>
                                            </HyperlinkButton>
                                            <HyperlinkButton  Margin="15 0" Foreground="{ThemeResource Bili-FontColor}" HorizontalAlignment="Right" Click="btn_refresh_Atton_Click">
                                                <SymbolIcon Symbol="Refresh"></SymbolIcon>
                                            </HyperlinkButton>
                                        </Grid>
                                        <TextBlock x:Name="DT_0" HorizontalAlignment="Center" Foreground="Gray">
										<Run Text="╮(╯_╰)╭ 没有追番"/>
                                        </TextBlock>
                                        <ScrollViewer HorizontalScrollBarVisibility="Hidden" HorizontalScrollMode="Enabled" VerticalScrollMode="Disabled" VerticalScrollBarVisibility="Disabled">
                                            <GridView x:Name="user_GridView_Bangumi"  ScrollViewer.VerticalScrollBarVisibility="Disabled"  HorizontalAlignment="Left" SelectionMode="None" IsItemClickEnabled="True" ItemClick="user_GridView_Bangumi_ItemClick">
                                                <GridView.ItemContainerStyle>
                                                    <Style TargetType="GridViewItem">
                                                        <Setter Property="Margin" Value="5 5 5 0"/>
                                                        <Setter Property="Width" Value="100"/>
                                                        <Setter Property="BorderThickness" Value="1"/>
                                                        <Setter Property="BorderBrush" Value="{ThemeResource Bili-Background}"/>
                                                        <Setter Property="Background" Value="{ThemeResource Bili-List-Background}"/>
                                                    </Style>
                                                </GridView.ItemContainerStyle>
                                                <GridView.ItemTemplate>
                                                    <DataTemplate>
                                                        <StackPanel >
                                                            <Image Source="{Binding cover}" Width="100" Height="135" VerticalAlignment="Top" Stretch="Fill"/>
                                                            <TextBlock Text="{Binding title}"  Height="32" TextWrapping="Wrap" MaxLines="2" FontSize="12"  Margin="5,0" />
                                                            <TextBlock Text="{Binding NewOver}" TextWrapping="Wrap" MaxLines="2" FontSize="12" Foreground="#FF898989" Margin="5"/>
                                                        </StackPanel>
                                                    </DataTemplate>
                                                </GridView.ItemTemplate>
                                            </GridView>
                                        </ScrollViewer>
                                        <Grid>
                                            <HyperlinkButton Margin="10 0" Foreground="{ThemeResource Bili-FontColor}" >
                                                <StackPanel Orientation="Horizontal">
                                                    <Image Source="Assets/PartIcon/ic_header_dynamic.png" Width="18" Height="18" Margin="0 0 10 0"/>
                                                    <TextBlock Text="动态" VerticalAlignment="Center" FontSize="16"/>
                                                </StackPanel>

                                            </HyperlinkButton>
                                            <HyperlinkButton x:Name="btn_refresh_Atton" Margin="15 0" Foreground="{ThemeResource Bili-FontColor}" HorizontalAlignment="Right" Click="btn_refresh_Atton_Click">
                                                <SymbolIcon Symbol="Refresh"></SymbolIcon>
                                            </HyperlinkButton>
                                        </Grid>

                                        <TextBlock x:Name="DT_1" HorizontalAlignment="Center" Foreground="Gray">
										<Run Text="╮(╯_╰)╭ 没有动态"/>
                                        </TextBlock>
                                        <ListView  x:Name="User_ListView_Attention" ScrollViewer.VerticalScrollMode="Disabled" SelectionMode="None" IsItemClickEnabled="True" ItemClick="User_ListView_Attention_ItemClick">
                                            <ListView.ItemContainerStyle>
                                                <Style TargetType="ListViewItem">
                                                    <Setter Property="BorderThickness" Value="0,0,0,0.5"/>
                                                    <Setter Property="BorderBrush" Value="#33808080"/>
                                                </Style>
                                            </ListView.ItemContainerStyle>
                                            <ListView.ItemTemplate>
                                                <DataTemplate>
                                                    <Grid Margin="0,5" Height="80">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="120"/>
                                                            <ColumnDefinition/>
                                                        </Grid.ColumnDefinitions>
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="auto"/>
                                                            <RowDefinition />
                                                            <RowDefinition/>
                                                            <RowDefinition />
                                                        </Grid.RowDefinitions>
                                                        <Image Source="{Binding pic}" Height="75" Width="120" Grid.RowSpan="4"/>
                                                        <TextBlock Text="{Binding title}" FontSize="14" Grid.Column="1" TextWrapping="Wrap" MaxLines="2" Margin="10,0" />
                                                        <StackPanel Orientation="Horizontal" Grid.Row="1" Grid.Column="1" Margin="10,0" VerticalAlignment="Center">
                                                            <Image Source="Assets/Icon/up.png" Width="16" Height="16"/>
                                                            <TextBlock Text="{Binding author}"  FontSize="12"  TextWrapping="Wrap" MaxLines="2"  Foreground="#FF787878" VerticalAlignment="Center"/>
                                                        </StackPanel>
                                                        <StackPanel Orientation="Horizontal" Grid.Row="2" Grid.Column="1" Margin="10,0" VerticalAlignment="Center">
                                                            <Image Source="Assets/Icon/Play.png" Width="16" Height="16"/>
                                                            <TextBlock Text="{Binding play}"  FontSize="12"  TextWrapping="Wrap" MaxLines="2"  Foreground="#FF787878" Margin="0,0,10,0"/>
                                                            <Image Source="Assets/Icon/DM.png" Width="16" Height="16"/>
                                                            <TextBlock Text="{Binding video_review}"  FontSize="12"  TextWrapping="Wrap" MaxLines="2"  Foreground="#FF787878"/>
                                                        </StackPanel>
                                                        <StackPanel Orientation="Horizontal" Grid.Row="3" Grid.Column="1" Margin="10,0" VerticalAlignment="Center">
                                                            <Image Source="Assets/Icon/Time.png" Width="16" Height="16"/>
                                                            <TextBlock Text="{Binding Create}"  FontSize="12"  TextWrapping="Wrap" MaxLines="2"  Foreground="#FF898989"/>
                                                        </StackPanel>
                                                    </Grid>
                                                </DataTemplate>
                                            </ListView.ItemTemplate>
                                        </ListView>
                                        <HyperlinkButton x:Name="User_load_more" HorizontalAlignment="Center" VerticalAlignment="Bottom" Content="加载更多"/>
                                    </StackPanel>
                                    <TextBlock x:Name="DT_noLoad" Visibility="Collapsed" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="Gray">
									<Run Text="（￣工￣lll） 请先登录"/>
                                    </TextBlock>
                                    <ProgressBar  x:Name="pr_Load_DT" Visibility="Collapsed" IsIndeterminate="True" Background="{x:Null}" VerticalAlignment="Top"/>
                                </Grid>
                            </ScrollViewer>
                        </pr:PullToRefreshBox>
                    </PivotItem>
                    <PivotItem Margin="0" >

                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                            <StackPanel Margin="10">
                                <!--<Border Background="White">-->
                                <AutoSuggestBox x:Name="txt_auto_Find" Height="32"  PlaceholderText="搜索视频、番剧、UP主及AV号"  QueryIcon="Find" QuerySubmitted="txt_auto_Find_QuerySubmitted" TextChanged="txt_auto_Find_TextChanged" SuggestionChosen="txt_auto_Find_SuggestionChosen"/>
                                <!--</Border>-->
                                <TextBlock Margin="0 10" FontSize="16">
										<Run Text="大家都在搜"/>
                                </TextBlock>
                                <GridView x:Name="list_Hot" Height="100" ScrollViewer.VerticalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollMode="Disabled" IsItemClickEnabled="True" SelectionMode="None" ItemClick="list_Hot_ItemClick">
                                    <GridView.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <WrapPanel:WrapPanel/>
                                        </ItemsPanelTemplate>
                                    </GridView.ItemsPanel>
                                    <GridView.ItemTemplate>
                                        <DataTemplate>
                                            <Border Background="{ThemeResource Bili-MenuBack}" CornerRadius="8" >
                                                <TextBlock Margin="10 5" Foreground="Gray" FontSize="14" Text="{Binding keyword}"/>
                                            </Border>
                                        </DataTemplate>
                                    </GridView.ItemTemplate>
                                </GridView>

                                <HyperlinkButton x:Name="Find_btn_Topic" Foreground="Gray" Background="{ThemeResource Bili-MenuBack}" HorizontalContentAlignment="Stretch" HorizontalAlignment="Stretch" Height="36" Margin="0 5" Click="Find_btn_Topic_Click">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="48"/>
                                            <ColumnDefinition/>
                                            <ColumnDefinition Width="48"/>
                                        </Grid.ColumnDefinitions>
                                        <SymbolIcon Symbol="Comment" Foreground="Gray"/>
                                        <TextBlock Grid.Column="1" FontSize="14" >
												<Run Text="今日话题"/>
                                        </TextBlock>
                                        <FontIcon  Grid.Column="2" FontSize="12" Foreground="Gray" FontFamily="Segoe MDL2 Assets" Glyph="&#xE00F;" />
                                    </Grid>
                                </HyperlinkButton>
                                <HyperlinkButton x:Name="Find_btn_Rank" Foreground="Gray" Background="{ThemeResource Bili-MenuBack}" HorizontalContentAlignment="Stretch" HorizontalAlignment="Stretch" Height="36" Margin="0 5" Click="Find_btn_Rank_Click">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="48"/>
                                            <ColumnDefinition/>
                                            <ColumnDefinition Width="48"/>
                                        </Grid.ColumnDefinitions>
                                        <SymbolIcon Symbol="FourBars" Foreground="Gray"/>
                                        <TextBlock Grid.Column="1" FontSize="14">
												<Run Text="排行榜"/>
                                        </TextBlock>
                                        <FontIcon  Grid.Column="2" FontSize="12" Foreground="Gray" FontFamily="Segoe MDL2 Assets" Glyph="&#xE00F;" />
                                    </Grid>
                                </HyperlinkButton>
                                <HyperlinkButton x:Name="Find_btn_Random" Foreground="Gray" Background="{ThemeResource Bili-MenuBack}" HorizontalContentAlignment="Stretch" HorizontalAlignment="Stretch" Height="36" Margin="0 5" Click="Find_btn_Random_Click">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="48"/>
                                            <ColumnDefinition/>
                                            <ColumnDefinition Width="48"/>
                                        </Grid.ColumnDefinitions>
                                        <SymbolIcon Symbol="Refresh" Foreground="Gray"/>
                                        <TextBlock Grid.Column="1" FontSize="14">
												<Run Text="试试手气"/>
                                        </TextBlock>
                                        <FontIcon  Grid.Column="2" FontSize="12" Foreground="Gray" FontFamily="Segoe MDL2 Assets" Glyph="&#xE00F;" />
                                    </Grid>
                                </HyperlinkButton>
                                <HyperlinkButton x:Name="btn_dilidili" Foreground="Gray" Background="{ThemeResource Bili-MenuBack}" HorizontalContentAlignment="Stretch" HorizontalAlignment="Stretch" Height="36" Margin="0 5" Click="btn_dilidili_Click">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="48"/>
                                            <ColumnDefinition/>
                                            <ColumnDefinition Width="48"/>
                                        </Grid.ColumnDefinitions>
                                        <SymbolIcon Symbol="Emoji2" Foreground="Gray"/>
                                        <TextBlock Grid.Column="1" FontSize="14">
												<Run Text="嘀哩嘀哩"/>
                                        </TextBlock>
                                        <FontIcon  Grid.Column="2" FontSize="12" Foreground="Gray" FontFamily="Segoe MDL2 Assets" Glyph="&#xE00F;" />
                                    </Grid>
                                </HyperlinkButton>
                            </StackPanel>
                        </ScrollViewer>
                    </PivotItem>
                </Pivot>
                <Border x:Name="bor_SS" Grid.Row="2" 
					ManipulationMode="TranslateX" 
					ManipulationCompleted="Border_ManipulationCompleted" 
					ManipulationDelta="Border_ManipulationDelta"
					Width="20" Opacity="0" Background="White" HorizontalAlignment="Left"/>
            </Grid>
        </SplitView>
        <Border x:Name="grid_GG" Visibility="Collapsed" Height="auto" Grid.RowSpan="2" VerticalAlignment="Bottom" CornerRadius="10" HorizontalAlignment="Center" Background="#7F000000" Margin="0,30">
            <TextBlock x:Name="txt_GG" Foreground="White" VerticalAlignment="Center" Margin="10,5">
				<Run Text="信息不能为空"/>
            </TextBlock>
        </Border>
        <AppBarButton x:Name="btn_OpenMenu" Grid.Row="1" Width="48" Height="48" Foreground="White" Click="btn_OpenMenu_Click">
            <AppBarButton.Icon>
                <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE700;" />
            </AppBarButton.Icon>
        </AppBarButton>
        <Frame x:Name="infoFrame" Grid.RowSpan="2"  Navigating="infoFrame_Navigating"  Navigated="infoFrame_Navigated" >
            <Frame.Resources>
                <!--<Storyboard x:Name="storyboardPopIn" >
                    <DoubleAnimation x:Name="jinr" To="0" Duration="00:00:0.15" 
                     Storyboard.TargetName="dh"  Storyboard.TargetProperty="TranslateX">
                    </DoubleAnimation>
                    -->
                <!--<PopInThemeAnimation Storyboard.TargetName="infoFrame" FromHorizontalOffset="1000" FromVerticalOffset="0" />-->
                <!--
                </Storyboard>-->
                <Storyboard x:Name="storyboardPopOut" >
                    <DoubleAnimation x:Name="tuic" From="0"  Duration="00:00:0.1"  Completed="StoryboardPopOut_Completed"
						Storyboard.TargetName="dh"  Storyboard.TargetProperty="TranslateX"/>
                </Storyboard>
            </Frame.Resources>
            <Frame.RenderTransform>
                <CompositeTransform x:Name="dh"/>
            </Frame.RenderTransform>
            <!--<Ellipse Width="100" Height="100" Fill="Black"></Ellipse>-->
        </Frame>
        <local:MessageShow x:Name="messShow" Grid.RowSpan="4" Margin="10" HorizontalAlignment="Center" VerticalAlignment="Bottom"/>
        <Grid x:Name="Feedback_Grid"></Grid>
    </Grid>
</Page>
